class generator;
  
  mailbox #(transaction) mbx;
  mailbox #(transaction) mbxref;
  
  transaction tr;
  
  event sconext;
  event done;
  
  int count;
  
  function new(mailbox #(transaction) mbx, mailbox #(transaction) mbxref);
    this.mbx=mbx;
    this.mbxref=mbxref;
  endfunction
  
  task run();
    repeat(count) 
      begin
      tr=new();
    assert(tr.randomize)
      else 
        $error ( "[GEN] : RANDOMIZATION FAILED");
    mbx.put(tr);
    mbxref.put(tr);
    tr.display("GEN");
        @(sconext);
    end
    ->done;
  endtask
endclass
